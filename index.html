<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>
    <style>
        :root { --vino: #9D2449; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: var(--vino); font-family: sans-serif; }
        .pantalla { display: none; width: 100%; height: 100%; flex-direction: column; align-items: center; justify-content: center; color: white; padding: 20px; box-sizing: border-box; }
        .activa { display: flex; }
        .btn { background: transparent; border: 1px solid white; color: white; padding: 15px; width: 85%; margin: 10px; border-radius: 4px; font-weight: bold; font-size: 14px; text-transform: uppercase; }
        #p-licencia { background: white; color: black; justify-content: flex-start; padding: 15px; overflow-y: auto; text-align: left; }
        .label { font-weight: bold; font-size: 8px; color: #000; margin-top: 5px; }
        .dato { font-size: 10px; color: #333; margin-bottom: 5px; text-transform: uppercase; border-bottom: 1px solid #eee; display: block; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    </style>
</head>
<body>
    <div id="p-home" class="pantalla activa">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Coat_of_arms_of_Mexico.svg/500px-Coat_of_arms_of_Mexico.svg.png" style="width:100px; margin-bottom: 20px;">
        <div style="font-size: 18px; letter-spacing: 2px; text-align: center;">LICENCIA FEDERAL DIGITAL</div>
        <button class="btn" onclick="navegar('p-login')" style="margin-top: 50px;">DESCARGAR MI LICENCIA</button>
    </div>

    <div id="p-login" class="pantalla" style="background:white; color:black;">
        <h3 style="color:var(--vino);">Validar Datos</h3>
        <input id="c" placeholder="CURP">
        <input id="t" placeholder="TELÉFONO" type="number">
        <input id="p" type="password" placeholder="CONTRASEÑA">
        <button class="btn" style="background:var(--vino); border:none; width:100%;" onclick="login()">VALIDAR</button>
        <p onclick="navegar('p-home')" style="color:#666; margin-top:15px; font-size:12px; cursor:pointer;">Regresar</p>
    </div><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Licencia Federal Digital</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="database.js"></script>
    
    <style>
        /* Aquí va todo el diseño color vino, marcos grises y tipografía oficial */
        :root { --guinda: #611232; --oro: #A57F2C; }
        body { font-family: 'Montserrat', sans-serif; background: #f4f4f4; margin: 0; }
        .pantalla { display: none; padding: 20px; }
        .activa { display: block; }
        .licencia-card { background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .header-gob { background: var(--guinda); color: white; padding: 10px; text-align: center; border-radius: 10px 10px 0 0; }
        .foto-perfil { width: 120px; height: 150px; border: 2px solid #ccc; object-fit: cover; }
        #qrcode { display: flex; justify-content: center; padding: 15px; }
    </style>
</head>
<body>

    <div id="pantalla-login" class="pantalla activa">
        <div class="header-gob">VALIDACIÓN DE DATOS</div>
        <input type="text" id="curp" placeholder="Ingrese CURP">
        <input type="text" id="medico" placeholder="Expediente Médico">
        <button onclick="validar()">VALIDAR</button>
    </div>

    <div id="pantalla-licencia" class="pantalla">
        <div class="licencia-card">
            <div class="header-gob">ESTADOS UNIDOS MEXICANOS</div>
            <div style="display: flex; padding: 15px;">
                <img id="user-foto" class="foto-perfil" src="">
                <div style="margin-left: 15px;">
                    <h3 id="user-nombre"></h3>
                    <p>Licencia: <b id="user-num" style="color:red;"></b></p>
                    <p>Vigencia: <span id="user-vigencia"></span></p>
                </div>
            </div>
            <div id="qrcode"></div> <button onclick="location.reload()">VERIFICAR OTRA LICENCIA</button>
        </div>
    </div>

    <script>
        function validar() {
            const c = document.getElementById('curp').value.toUpperCase();
            const m = document.getElementById('medico').value;
            
            // La máquina busca en la base de datos independiente
            const user = buscarUsuario(c, m);

            if(user) {
                document.getElementById('pantalla-login').classList.remove('activa');
                document.getElementById('pantalla-licencia').classList.add('activa');
                
                // Llenar datos automáticamente
                document.getElementById('user-nombre').innerText = user.nombre;
                document.getElementById('user-num').innerText = user.licencia;
                document.getElementById('user-vigencia').innerText = user.vigencia;
                document.getElementById('user-foto').src = user.foto;
                
                // Generar QR dinámico completo con la URL oficial
                document.getElementById('qrcode').innerHTML = "";
                new QRCode(document.getElementById("qrcode"), {
                    text: "https://app.sct.gob.mx/ConsultaInfracciones/detalleLicFederal.do?curp=" + user.curp,
                    width: 150, height: 150
                });
            } else {
                alert("Datos no encontrados en el Sistema Federal.");
            }
        }
    </script>
</body>
</html>// ESTA ES TU BASE DE DATOS INDEPENDIENTE
const base_datos = [
  {
    "id": "001",
    "nombre": "JUAN ALBERTO LOPEZ VAZQUEZ",
    "curp": "LOVZ920213HVZPZN00",
    "licencia": "VER0410546",
    "medico": "959711",
    "vigencia": "05-04-2024 - 05-04-2026",
    "antiguedad": "14-09-2016",
    "categoria": "B, E",
    "foto": "https://raw.githubusercontent.com/lopezvazquezjuanalberto643-beep/Licencia-federal/main/foto1.jpg"
  },
  {
    "id": "002",
    "nombre": "GABRIEL MARTINEZ FREIRE",
    "curp": "MAFG850101HDFRRN01",
    "licencia": "DF00000000",
    "medico": "123456",
    "vigencia": "01-01-2024 - 01-01-2026",
    "antiguedad": "20-05-2010",
    "categoria": "B",
    "foto": "https://raw.githubusercontent.com/lopezvazquezjuanalberto643-beep/Licencia-federal/main/foto2.jpg"
  }
];

// Función para buscar usuarios (no tocar)
function buscarUsuario(curpInput, medicoInput) {
    return base_datos.find(u => u.curp === curpInput && u.medico === medicoInput);
}
    

    <div id="p-licencia" class="pantalla">
        <div style="border-bottom: 2px solid var(--vino); width:100%; margin-bottom: 10px; padding-bottom:5px;">
            <b style="color:var(--vino); font-size: 14px;">COMUNICACIONES</b>
        </div>
        <div style="display: flex; width: 100%; gap: 10px;">
            <div style="width: 50%;">
                <img id="f-foto" src="" style="width:100%; border:1px solid #000; height:120px; object-fit:cover;">
                <span class="label">NOMBRE:</span><span id="f-nom" class="dato"></span>
                <span class="label">LICENCIA:</span><span id="f-lic" class="dato"></span>
                <span class="label">CURP:</span><span id="f-curp" class="dato"></span>
            </div>
            <div style="width: 50%; text-align: right;">
                <img id="f-qr" src="" style="width:100px; height:100px;">
                <span class="label">VIGENCIA:</span><span id="f-vig" class="dato"></span>
                <span class="label">CATEGORÍA:</span><span id="f-cat" class="dato"></span>
                <span class="label">EXP. MÉDICO:</span><span id="f-med" class="dato"></span>
            </div>
        </div>
        <button class="btn" style="color:var(--vino); border-color:var(--vino); margin-top: 20px; width:100%;" onclick="navegar('p-home')">CERRAR SESIÓN</button>
    </div>

    <script>
        const db = {
            "SAGE960620HPLLND10": { n: "EDOARDO SALVADOR GONZALEZ", l: "PUE0034931", m: "962256", v: "25-03-2021 AL 24-03-2025", c: "B", t: "3333333333", p: sha256("edoardo1"), f: "https://via.placeholder.com/150?text=EDOARDO" },
            "LOVJ920213HVZPZN00": { n: "JUAN ALBERTO LOPEZ VAZQUEZ", l: "VER000001", m: "100000", v: "15-12-2025 AL 15-12-2027", c: "A", t: "2724141648", p: sha256("usuario1"), f: "https://via.placeholder.com/150?text=JUAN" }
        };
        function navegar(id){ document.querySelectorAll('.pantalla').forEach(p=>p.classList.remove('activa')); document.getElementById(id).classList.add('activa'); }
        function login(){
            const curp = document.getElementById('c').value.toUpperCase().trim();
            const tel = document.getElementById('t').value.trim();
            const pass = sha256(document.getElementById('p').value.trim());
            const u = db[curp];
            if(u && u.t === tel && u.p === pass){
                document.getElementById('f-nom').innerText = u.n; document.getElementById('f-lic').innerText = u.l;
                document.getElementById('f-curp').innerText = curp; document.getElementById('f-med').innerText = u.m;
                document.getElementById('f-vig').innerText = u.v; document.getElementById('f-cat').innerText = u.c;
                document.getElementById('f-foto').src = u.f;
                document.getElementById('f-qr').src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${curp}`;
                navegar('p-licencia');
            } else { alert("Datos incorrectos"); }
        }
    </script>
</body>
      </html>

